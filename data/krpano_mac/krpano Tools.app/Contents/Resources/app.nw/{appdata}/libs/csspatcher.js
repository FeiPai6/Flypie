function css_patcher(e){function n(){return t.element||(t.element=e.createElement("style"),t.element.setAttribute("type","text/css"),t.element.setAttribute("id","csspatcher"),e.getElementsByTagName("head")[0].appendChild(t.element),t.stylesheet=e.styleSheets[e.styleSheets.length-1],t.rules=t.stylesheet[e.all?"rules":"cssRules"]),t.element}var t=this;return t.inject=function(e,r){var i=n(),s,o,u,a,f,l,c,h,p;typeof e=="string"&&(e=[e]);for(s=0,o=e.length;s<o;s++){u=[];for(a=0,f=t.rules.length;a<f;a++)t.rules[a].selectorText===e[s]&&(r===null?t.stylesheet.deleteRule(a):u.push(t.rules[a]));if(r===null)return;if(u.length===0){l=[];for(c in r)r.hasOwnProperty(c)&&l.push(c+": "+r[c]+";");l=e[s]+"{"+l.join("")+"}",t.stylesheet.insertRule(l,t.rules.length)}else for(h=0,p=u.length;h<p;h++)for(c in r)r.hasOwnProperty(c)&&u[h].style.setProperty(c,r[c],"")}},t}