var krpanoui={};(function(){function t(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""}var e=krpanoui;e.useNativeDialogs=!1,e.showRegisterDialog=function(){gui_modal_window("frames/register.html")},e.progressDialog=function(e){var t="<span id='m_infotext'>"+e.infotext+"</span><br><progress id='m_progress' style='width:100%;'></progress>";gui_modal_window("frames/simpledialog.html",{args:{title:e.title?e.title:"Progress",content:t,buttonmode:e.buttonmode,locked:e.locked,onready:function(t){var n=t.ID("m_progress"),r=t.ID("m_infotext");t.setProgress=function(e,t){n.value=e,n.max=t},t.setInfotext=function(e){r.innerHTML=e},e.onready&&e.onready(t)},onclose:null},height:e.height?e.height:200,esckey:!1,onclosed:function(t){e.onclose&&e.onclose(t)}})},e.alertDialog=function(n){if(e.useNativeDialogs||n.native===!0){alert(t(n.infotext)),n.onclose&&n.onclose();return}gui_modal_window("frames/simpledialog.html",{args:{title:n.title?n.title:"Alert",content:n.infotext,buttonmode:1,onready:function(e){e.setFocusButton(1)}},height:150,esckey:!1,onclosed:function(){n.onclose&&n.onclose()}})},e.promptDialog=function(n){if(e.useNativeDialogs||n.native===!0){var r=prompt(t(n.infotext),n.value);r&&n.onclose&&n.onclose(r);return}var i=n.infotext+"<br><input id='m_prompt' type='text' style='width:100%;' value='"+n.value+"' />";gui_modal_window("frames/simpledialog.html",{args:{title:n.title?n.title:"Prompt",content:i,buttonmode:2,onready:function(e){var t=e.ID("m_prompt");t.focus()},onclose:function(e,t){var n=null;if(t==1){var r=e.ID("m_prompt");n=r.value}return n}},height:150,esckey:!1,onclosed:function(e){n.onclose&&n.onclose(e)}})},e.confirmDialog=function(n){if(e.useNativeDialogs||n.native===!0){var r=confirm(t(n.infotext));n.onclose&&n.onclose(r);return}gui_modal_window("frames/simpledialog.html",{args:{title:n.title?n.title:"Confirm",content:n.infotext,buttonmode:2,onready:function(e){e.setFocusButton(1)},onclose:function(e,t){var n=!1;return t==1&&(n=!0),n}},height:150,esckey:!1,onclosed:function(e){n.onclose&&n.onclose(e)}},!0)},e.simpleDialog=function(e){gui_modal_window("frames/simpledialog.html",{args:{title:e.title,content:e.content,buttonmode:e.buttonmode,locked:e.locked,onready:e.onready,onclose:e.onclose},height:e.height,esckey:!1,onclosed:e.onclosed})}})()